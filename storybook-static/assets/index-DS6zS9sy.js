import{r as l,_ as ve,e as ge,f as he,S as L,V as H,d as k,h as me}from"./iframe-DZiCWydc.js";import{_ as be}from"./extends-CF3RwP-h.js";import{P as ye}from"./index-BXMmz_RV.js";var Se=[];function Q(e){return Se[e-1]}var Ee=/^data:/;class d{static has(t){var a=d._entries,r=Ee.test(t);return r||!!a[t]}static add(t){var a=d._entries,r=Date.now();a[t]?(a[t].lastUsedTimestamp=r,a[t].refCount+=1):a[t]={lastUsedTimestamp:r,refCount:1}}static remove(t){var a=d._entries;a[t]&&(a[t].refCount-=1),d._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var t=d._entries,a=Object.keys(t);if(a.length+1>d._maximumEntries){var r,n;a.forEach(i=>{var u=t[i];(!n||u.lastUsedTimestamp<n.lastUsedTimestamp)&&u.refCount===0&&(r=i,n=u)}),r&&delete t[r]}}}d._maximumEntries=256;d._entries={};var O=0,I={},p={abort(e){var t=I[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete I[""+e])},getSize(e,t,a){var r=!1,n=setInterval(u,16),i=p.load(e,u,v);function u(){var f=I[""+i];if(f){var o=f.naturalHeight,s=f.naturalWidth;o&&s&&(t(s,o),r=!0)}r&&(p.abort(i),clearInterval(n))}function v(){typeof a=="function"&&a(),p.abort(i),clearInterval(n)}},has(e){return d.has(e)},load(e,t,a){O+=1;var r=new window.Image;return r.onerror=a,r.onload=n=>{var i=()=>t({nativeEvent:n});typeof r.decode=="function"?r.decode().then(i,i):setTimeout(i,0)},r.src=e,I[""+O]=r,O},prefetch(e){return new Promise((t,a)=>{p.load(e,()=>{d.add(e),d.remove(e),t()},a)})},queryCache(e){var t={};return e.forEach(a=>{d.has(a)&&(t[a]="disk/memory")}),Promise.resolve(t)}};const m=p;var pe=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],Le="ERRORED",P="LOADED",J="LOADING",we="IDLE",xe=0,ze=/^(data:image\/svg\+xml;utf8,)(.*)/;function ke(e,t){return e&&t!=null?l.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},l.createElement("defs",null,l.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},l.createElement("feFlood",{floodColor:""+e,key:e}),l.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function Ie(e,t,a,r){var n=L.flatten(e),i=n.filter,u=n.resizeMode,v=n.shadowOffset,f=n.tintColor;n.resizeMode,n.tintColor;var o=[],s=null;if(i&&o.push(i),t&&o.push("blur("+t+"px)"),v){var g=me(n);g&&o.push("drop-shadow("+g+")")}return(r||f)&&a!=null&&o.push("url(#tint-"+a+")"),o.length>0&&(s=o.join(" ")),[u,s,f]}function Re(e){if(typeof e=="number"){var t=Q(e),a=t.height,r=t.width;return{height:a,width:r}}else if(e!=null&&!Array.isArray(e)&&typeof e=="object"){var n=e.height,i=e.width;return{height:n,width:i}}}function _(e){var t=null;if(typeof e=="number"){var a=Q(e);if(a==null)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=a.scales[0];if(a.scales.length>1){var n=ye.get();r=a.scales.reduce((s,g)=>Math.abs(g-n)<Math.abs(s-n)?g:s)}var i=r!==1?"@"+r+"x":"";t=a?a.httpServerLocation+"/"+a.name+i+"."+a.type:""}else typeof e=="string"?t=e:e&&typeof e.uri=="string"&&(t=e.uri);if(t){var u=t.match(ze);if(u){var v=u[1],f=u[2],o=encodeURIComponent(f);return""+v+o}}return t}var X=l.forwardRef((e,t)=>{var a=e["aria-label"],r=e.accessibilityLabel,n=e.blurRadius,i=e.defaultSource,u=e.draggable,v=e.onError,f=e.onLayout,o=e.onLoad,s=e.onLoadEnd,g=e.onLoadStart,Y=e.pointerEvents,C=e.source,A=e.style,Z=ve(e,pe),T=a||r,j=l.useState(()=>{var c=_(C);if(c!=null){var h=m.has(c);if(h)return P}return we}),N=j[0],w=j[1],q=l.useState({}),$=q[0],K=q[1],ee=l.useContext(ge),D=l.useRef(null),B=l.useRef(xe++),b=l.useRef(null),te=N===P||N===J&&i==null,M=Ie(A,n,B.current,e.tintColor),ae=M[0],re=M[1],ne=M[2],y=e.resizeMode||ae||"cover",ie=e.tintColor||ne,U=te?C:i,x=_(U),oe=Re(U),le=x?'url("'+x+'")':null,V=se(),ue=x?he("img",{alt:T||"",style:E.accessibilityImage$raw,draggable:u||!1,ref:D,src:x}):null;function se(){if(D.current!=null&&(y==="center"||y==="repeat")){var c=D.current,h=c.naturalHeight,S=c.naturalWidth,F=$.height,G=$.width;if(h&&S&&F&&G){var W=Math.min(1,G/S,F/h),fe=Math.ceil(W*S),ce=Math.ceil(W*h);return fe+"px "+ce+"px"}}}function de(c){if(y==="center"||y==="repeat"||f){var h=c.nativeEvent.layout;f&&f(c),K(h)}}var z=_(C);return l.useEffect(()=>{c(),z!=null&&(w(J),g&&g(),b.current=m.load(z,function(S){w(P),o&&o(S),s&&s()},function(){w(Le),v&&v({nativeEvent:{error:"Failed to load resource "+z}}),s&&s()}));function c(){b.current!=null&&(m.abort(b.current),b.current=null)}return c},[z,b,w,v,o,s,g]),l.createElement(H,be({},Z,{"aria-label":T,onLayout:de,pointerEvents:Y,ref:t,style:[E.root,ee&&E.inline,oe,A,E.undo,{boxShadow:null}]}),l.createElement(H,{style:[E.image,Ce[y],{backgroundImage:le,filter:re},V!=null&&{backgroundSize:V}],suppressHydrationWarning:!0}),ue,ke(ie,B.current))});X.displayName="Image";var R=X;R.getSize=function(e,t,a){m.getSize(e,t,a)};R.prefetch=function(e){return m.prefetch(e)};R.queryCache=function(e){return m.queryCache(e)};var E=L.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:k(k({},L.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:k(k({},L.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),Ce=L.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const Pe=R;export{Pe as I};
