import{U as _,r as f,_ as O,V as N,S as K,u as q,g as $,R as d,P as U,m as G,d as p,j as P}from"./iframe-DZiCWydc.js";import{u as Y}from"./useTheme-DmX67AR3.js";import{_ as b}from"./extends-CF3RwP-h.js";import{i as k,D as Z}from"./index-DS8CYKj5.js";var X={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(r){r!==null&&(this._currentlyFocusedNode=r,document.activeElement!==r&&_.focus(r))},blurTextInput(r){r!==null&&(this._currentlyFocusedNode=null,document.activeElement===r&&_.blur(r))}};const E=X;var J=()=>{E.blurTextInput(E.currentlyFocusedField())};const Q=J;var ee=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function x(r){return{nativeEvent:{contentOffset:{get x(){return r.target.scrollLeft},get y(){return r.target.scrollTop}},contentSize:{get height(){return r.target.scrollHeight},get width(){return r.target.scrollWidth}},layoutMeasurement:{get height(){return r.target.offsetHeight},get width(){return r.target.offsetWidth}}},timeStamp:Date.now()}}function oe(r,e){var o=Date.now()-r;return e>0&&o>=e}var re=f.forwardRef((r,e)=>{var o=r.onScroll,t=r.onTouchMove,l=r.onWheel,n=r.scrollEnabled,s=n===void 0?!0:n,a=r.scrollEventThrottle,H=a===void 0?0:a,V=r.showsHorizontalScrollIndicator,R=r.showsVerticalScrollIndicator,g=r.style,C=O(r,ee),h=f.useRef({isScrolling:!1,scrollLastTick:0}),S=f.useRef(null),y=f.useRef(null);function m(i){return j=>{s&&i&&i(j)}}function v(i){i.stopPropagation(),i.target===y.current&&(i.persist(),S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{I(i)},100),h.current.isScrolling?oe(h.current.scrollLastTick,H)&&u(i):T(i))}function T(i){h.current.isScrolling=!0,u(i)}function u(i){h.current.scrollLastTick=Date.now(),o&&o(x(i))}function I(i){h.current.isScrolling=!1,o&&o(x(i))}var w=V===!1||R===!1;return f.createElement(N,b({},C,{onScroll:v,onTouchMove:m(t),onWheel:m(l),ref:q(y,e),style:[g,!s&&W.scrollDisabled,w&&W.hideScrollbar]}))}),W=K.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const te=re;var D,F;function ne(){if(F)return D;F=1;function r(o){return function(){return o}}var e=function(){};return e.thatReturns=r,e.thatReturnsFalse=r(!1),e.thatReturnsTrue=r(!0),e.thatReturnsNull=r(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(o){return o},D=e,D}var M,z;function le(){if(z)return M;z=1;var r=ne(),e=r;return M=e,M}var se=le();const ie=$(se);var ae=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],A={},ce=16;let de=class extends d.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var o=e.nativeEvent;this.isTouching=o.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var o=E.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&o!=null&&e.target!==o&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),E.blurTextInput(o))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),o=e-this.lastMomentumScrollEndTime,t=o<ce||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return t},this.scrollResponderScrollTo=(e,o,t)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var l=e||A;e=l.x,o=l.y,t=l.animated}var n=this.getScrollableNode(),s=e||0,a=o||0;n!=null&&(typeof n.scroll=="function"?n.scroll({top:a,left:s,behavior:t?"smooth":"auto"}):(n.scrollLeft=s,n.scrollTop=a))},this.scrollResponderZoomTo=(e,o)=>{U.OS!=="ios"&&k("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,o,t)=>{this.additionalScrollOffset=o||0,this.preventNegativeScrollOffset=!!t,_.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,o,t,l)=>{var n=Z.get("window").height;this.keyboardWillOpenTo&&(n=this.keyboardWillOpenTo.endCoordinates.screenY);var s=o-n+l+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(s=Math.max(0,s)),this.scrollResponderScrollTo({x:0,y:s,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,o,t)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var l=e||A;o=l.x,e=l.y,t=l.animated}this.scrollResponderScrollTo({x:o||0,y:e||0,animated:t!==!1})},this.scrollToEnd=e=>{var o=(e&&e.animated)!==!1,t=this.props.horizontal,l=this.getScrollableNode(),n=t?l.scrollWidth:0,s=t?0:l.scrollHeight;this.scrollResponderScrollTo({x:n,y:s,animated:o})},this._handleContentOnLayout=e=>{var o=e.nativeEvent.layout,t=o.width,l=o.height;this.props.onContentSizeChange(t,l)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&Q(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var o=G(this.props.forwardedRef);o(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){ie(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,o=e.contentContainerStyle,t=e.horizontal,l=e.onContentSizeChange,n=e.refreshControl,s=e.stickyHeaderIndices,a=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var H=e.centerContent,V=O(e,ae),R={};l&&(R={onLayout:this._handleContentOnLayout});var g=!t&&Array.isArray(s),C=g||a?d.Children.map(this.props.children,(u,I)=>{var w=g&&s.indexOf(I)>-1;return u!=null&&(w||a)?d.createElement(N,{style:[w&&c.stickyHeader,a&&c.pagingEnabledChild]},u):u}):this.props.children,h=d.createElement(N,b({},R,{children:C,collapsable:!1,ref:this._setInnerViewRef,style:[t&&c.contentContainerHorizontal,H&&c.contentContainerCenterContent,o]})),S=t?c.baseHorizontal:c.baseVertical,y=t?c.pagingEnabledHorizontal:c.pagingEnabledVertical,m=p(p({},V),{},{style:[S,a&&y,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),v=te;k(v!==void 0,"ScrollViewClass must not be undefined");var T=d.createElement(v,b({},m,{ref:this._setScrollNodeRef}),h);return n?d.cloneElement(n,{style:m.style},T):T}};var B={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},c=K.create({baseVertical:p(p({},B),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:p(p({},B),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),L=d.forwardRef((r,e)=>d.createElement(de,b({},r,{forwardedRef:e})));L.displayName="ScrollView";const he=L,ue=({children:r,variant:e="default",style:o,contentContainerStyle:t,...l})=>{const{theme:n}=Y(),a={backgroundColor:(()=>{switch(e){case"content1":return n.colors.content1.DEFAULT;case"content2":return n.colors.content2.DEFAULT;case"content3":return n.colors.content3.DEFAULT;case"content4":return n.colors.content4.DEFAULT;default:return n.colors.background}})()};return P.jsx(he,{style:[a,o],contentContainerStyle:t,...l,children:r})};ue.__docgenInfo={description:"",methods:[],displayName:"ScrollView",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'content1' | 'content2' | 'content3' | 'content4'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'content1'"},{name:"literal",value:"'content2'"},{name:"literal",value:"'content3'"},{name:"literal",value:"'content4'"}]},description:"",defaultValue:{value:"'default'",computed:!1}},style:{required:!1,tsType:{name:"union",raw:"ViewStyle | ViewStyle[]",elements:[{name:"ViewStyle"},{name:"Array",elements:[{name:"ViewStyle"}],raw:"ViewStyle[]"}]},description:""},contentContainerStyle:{required:!1,tsType:{name:"union",raw:"ViewStyle | (ViewStyle | undefined)[]",elements:[{name:"ViewStyle"},{name:"Array",elements:[{name:"unknown"}],raw:"(ViewStyle | undefined)[]"}]},description:""}},composes:["RNScrollViewProps"]};export{ue as S};
